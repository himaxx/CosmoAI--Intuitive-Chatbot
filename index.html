<!DOCTYPE html>
<html lang="en" class="dark">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CosmoAI</title>
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;700&amp;display=swap" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet"/>
    <style>
      #root, body, html {
        height: 100%;
        width: 100%;
        margin: 0;
        padding: 0;
      }
      #particles-js {
        position: absolute;
        width: 100%;
        height: 100%;
        top: 0;
        left: 0;
        z-index: 0;
      }
      
      /* --- NEW ORB STYLES --- */
      .orb {
        width: 100%;
        height: 100%;
        border-radius: 9999px;
        transition: all 0.8s cubic-bezier(0.2, 0.8, 0.2, 1);
        position: relative;
        overflow: hidden;
      }
      .orb::before, .orb::after {
        content: '';
        position: absolute;
        inset: 0;
        border-radius: 9999px;
        transition: all 0.8s cubic-bezier(0.2, 0.8, 0.2, 1);
      }

      /* --- IDLE STATE --- */
      [data-state='idle'] .orb {
        background: radial-gradient(circle at 55% 45%, #2c2158, #1a1438, #0a0f1a 70%);
        animation: idle-breathe 6s ease-in-out infinite;
        box-shadow: 0 0 60px 10px rgba(76, 59, 153, 0.3), inset 0 0 40px 20px rgba(44, 33, 88, 0.5);
      }
      @keyframes idle-breathe {
        0%, 100% {
          transform: scale(0.98);
          box-shadow: 0 0 60px 10px rgba(76, 59, 153, 0.3), inset 0 0 40px 20px rgba(44, 33, 88, 0.5);
        }
        50% {
          transform: scale(1);
          box-shadow: 0 0 80px 15px rgba(100, 85, 188, 0.4), inset 0 0 40px 20px rgba(44, 33, 88, 0.3);
        }
      }

      /* --- LISTENING STATE --- */
      [data-state='listening'] .orb {
        background: radial-gradient(circle at 50% 50%, #4cc9f0, #135bec, #101622 70%);
        box-shadow: 0 0 80px 20px rgba(76, 201, 240, 0.5), inset 0 0 50px 25px rgba(19, 91, 236, 0.6);
        animation: listening-pulse 2s ease-in-out infinite;
      }
      [data-state='listening'] .orb::before {
        background: radial-gradient(circle at 30% 107%, #f72585 0%, rgba(247, 37, 133, 0) 40%);
        animation: listening-rotate 4s linear infinite;
      }
      @keyframes listening-pulse {
        50% { transform: scale(1.03); }
      }
      @keyframes listening-rotate {
        from { transform: rotate(0deg); }
        to { transform: rotate(360deg); }
      }

      /* --- SPEAKING STATE --- */
      [data-state='speaking'] .orb {
        background: radial-gradient(circle at 50% 50%, #fff, #a2d2ff, #135bec 80%);
        box-shadow: 0 0 100px 30px rgba(162, 210, 255, 0.7), inset 0 0 60px 30px rgba(19, 91, 236, 0.5);
        animation: speaking-pulse 1.5s ease-in-out infinite;
      }
      [data-state='speaking'] .orb::after {
        inset: -10px;
        border: 2px solid rgba(255, 255, 255, 0.5);
        animation: speaking-ripple 1.5s ease-in-out infinite;
        opacity: 0;
      }
      @keyframes speaking-pulse {
        50% { transform: scale(1.05); }
      }
      @keyframes speaking-ripple {
        0% { transform: scale(0.9); opacity: 1; }
        100% { transform: scale(1.2); opacity: 0; }
      }

      .glowing-text {
          text-shadow: 0 0 10px rgba(76, 201, 240, 0.7), 0 0 20px rgba(76, 201, 240, 0.5), 0 0 30px rgba(76, 201, 240, 0.3);
      }
      .waveform {
          display: flex;
          justify-content: center;
          align-items: center;
          height: 64px;gap: 6px;width: 100%;
      }
      .waveform-bar {
          width: 5px;background-color: #4cc9f0;
          border-radius: 3px;
          animation: wave 1.5s ease-in-out infinite;
          box-shadow: 0 0 6px rgba(76, 201, 240, 0.8);
          transition: all 0.3s ease-in-out;
      }
      @keyframes wave {
        0%, 100% { height: 10%; }
        50% { height: 100%; }
      }
      .waveform-bar:nth-child(1) { animation-delay: 0.1s; }
      .waveform-bar:nth-child(2) { animation-delay: 0.2s; }
      .waveform-bar:nth-child(3) { animation-delay: 0.3s; }
      .waveform-bar:nth-child(4) { animation-delay: 0.4s; }
      .waveform-bar:nth-child(5) { animation-delay: 0.5s; }
      .waveform-bar:nth-child(6) { animation-delay: 0.6s; }
      .waveform-bar:nth-child(7) { animation-delay: 0.7s; }
      .waveform-bar:nth-child(8) { animation-delay: 0.8s; }
      .waveform-bar:nth-child(9) { animation-delay: 0.9s; }
      .waveform-bar:nth-child(10) { animation-delay: 1.0s; }
      .waveform-bar:nth-child(11) { animation-delay: 1.1s; }
      .waveform-bar:nth-child(12) { animation-delay: 1.2s; }
      .waveform-bar:nth-child(13) { animation-delay: 1.3s; }
      .waveform-bar:nth-child(14) { animation-delay: 1.4s; }
      .waveform-bar:nth-child(15) { animation-delay: 1.5s; }
      .waveform-bar:nth-child(16) { animation-delay: 0.15s; }
      .waveform-bar:nth-child(17) { animation-delay: 0.25s; }
      .waveform-bar:nth-child(18) { animation-delay: 0.35s; }
      .waveform-bar:nth-child(19) { animation-delay: 0.45s; }
      .waveform-bar:nth-child(20) { animation-delay: 0.55s; }
    </style>
    <script>
      tailwind.config = {
        darkMode: "class",
        theme: {
          extend: {
            colors: {
              "primary": "#135bec",
              "background-light": "#f6f6f8",
              "background-dark": "#0a0f1a",
            },
            fontFamily: {
              "display": ["Space Grotesk", "sans-serif"]
            },
            borderRadius: { "DEFAULT": "0.5rem", "lg": "1rem", "xl": "1.5rem", "full": "9999px" },
          },
        },
      }
    </script>
    <script type="importmap">
    {
      "imports": {
        "react": "https://aistudiocdn.com/react@^19.2.0",
        "react-dom/": "https://aistudiocdn.com/react-dom@^19.2.0/",
        "react/": "https://aistudiocdn.com/react@^19.2.0/",
        "@google/genai": "https://aistudiocdn.com/@google/genai@^1.28.0"
      }
    }
    </script>
  </head>
  <body class="bg-background-light dark:bg-background-dark font-display text-white/90">
    <div id="root"></div>
    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
    <script>
    // This will be called after the React app mounts and creates the #particles-js div
    const initParticles = () => {
      const particlesElement = document.getElementById("particles-js");
      if (particlesElement) {
        particlesJS("particles-js", {
            "particles": {
                "number": { "value": 160, "density": { "enable": true, "value_area": 800 } },
                "color": { "value": "#ffffff" },
                "shape": { "type": "circle" },
                "opacity": { "value": 0.5, "random": true, "anim": { "enable": true, "speed": 1, "opacity_min": 0, "sync": false } },
                "size": { "value": 2, "random": true, "anim": { "enable": false } },
                "line_linked": { "enable": false },
                "move": { "enable": true, "speed": 0.4, "direction": "none", "random": true, "straight": false, "out_mode": "out", "bounce": false, "attract": { "enable": false } }
            },
            "interactivity": {
                "detect_on": "canvas",
                "events": { "onhover": { "enable": false }, "onclick": { "enable": false }, "resize": true }
            },
            "retina_detect": true
        });
      }
    };
    </script>
    <script type="module" src="/index.tsx"></script>
  </body>
</html>