<!DOCTYPE html>
<html lang="en" class="dark">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CosmoAI</title>
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;700&amp;display=swap" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet"/>
    <style>
      #root, body, html {
        height: 100%;
        width: 100%;
        margin: 0;
        padding: 0;
      }
      #particles-js {
        position: absolute;
        width: 100%;
        height: 100%;
        top: 0;
        left: 0;
        z-index: 0;
      }
      
      /* --- NEW REFINED ORB STYLES --- */
      .orb {
        width: 100%;
        height: 100%;
        border-radius: 9999px;
        transition: all 0.8s cubic-bezier(0.2, 0.8, 0.2, 1);
        position: relative;
        overflow: hidden;
        will-change: transform, box-shadow;
      }
      .orb::before, .orb::after {
        content: '';
        position: absolute;
        inset: 0;
        border-radius: 9999px;
        transition: all 0.8s cubic-bezier(0.2, 0.8, 0.2, 1);
        will-change: transform, opacity;
      }

      /* --- IDLE STATE --- */
      [data-state='idle'] .orb {
        background: radial-gradient(circle at 55% 45%, #3a2d7c, #1e1548, #0a0f1a 70%);
        box-shadow: 0 0 80px 10px rgba(96, 78, 201, 0.25), inset 0 0 50px 25px rgba(26, 20, 56, 0.6);
        animation: idle-breathe 8s ease-in-out infinite;
      }
      [data-state='idle'] .orb::before {
        background: radial-gradient(circle at 30% 30%, rgba(173, 161, 255, 0.2), transparent 50%);
        animation: idle-rotate 15s linear infinite;
      }
      @keyframes idle-breathe {
        0%, 100% {
          transform: scale(0.97);
          box-shadow: 0 0 80px 10px rgba(96, 78, 201, 0.25), inset 0 0 50px 25px rgba(26, 20, 56, 0.6);
        }
        50% {
          transform: scale(1);
          box-shadow: 0 0 100px 15px rgba(121, 102, 232, 0.35), inset 0 0 50px 25px rgba(26, 20, 56, 0.5);
        }
      }
      @keyframes idle-rotate {
        from { transform: rotate(0deg) scale(1.2); }
        to { transform: rotate(360deg) scale(1.2); }
      }

      /* --- LISTENING STATE --- */
      [data-state='listening'] .orb {
        background: radial-gradient(circle at 50% 50%, #72ddf7, #135bec, #051033 70%);
        box-shadow: 0 0 100px 25px rgba(76, 201, 240, 0.6), inset 0 0 60px 30px rgba(19, 91, 236, 0.7);
        animation: listening-pulse-electric 1.5s ease-in-out infinite;
      }
      [data-state='listening'] .orb::before {
        background: radial-gradient(circle at 30% 107%, #f72585 0%, rgba(247, 37, 133, 0) 50%);
        animation: listening-rotate 4s linear infinite;
      }
      [data-state='listening'] .orb::after {
        background: radial-gradient(circle at 70% -7%, #4cc9f0 0%, rgba(76, 201, 240, 0) 50%);
        animation: listening-rotate-rev 6s linear infinite;
      }
      @keyframes listening-pulse-electric {
        0%, 100% { transform: scale(1); }
        50% { transform: scale(1.04); }
        75% { transform: scale(1.02); }
      }
      @keyframes listening-rotate {
        from { transform: rotate(0deg); }
        to { transform: rotate(360deg); }
      }
      @keyframes listening-rotate-rev {
        from { transform: rotate(0deg); }
        to { transform: rotate(-360deg); }
      }

      /* --- SPEAKING STATE --- */
      [data-state='speaking'] .orb {
        background: radial-gradient(circle at 50% 50%, #fff, #bde0fe, #4a90e2 75%);
        box-shadow: 0 0 120px 40px rgba(189, 224, 254, 0.8), inset 0 0 80px 40px rgba(74, 144, 226, 0.6);
        animation: speaking-glow 1.8s ease-in-out infinite;
      }
      [data-state='speaking'] .orb::after {
        inset: -10px;
        border: 2px solid rgba(255, 255, 255, 0.8);
        animation: speaking-ripple-main 1.8s cubic-bezier(0.25, 0.46, 0.45, 0.94) infinite;
      }
      [data-state='speaking'] .orb::before {
        inset: -10px;
        border: 1px solid rgba(255, 255, 255, 0.5);
        animation: speaking-ripple-main 1.8s cubic-bezier(0.25, 0.46, 0.45, 0.94) infinite;
        animation-delay: 0.3s;
      }
      @keyframes speaking-glow {
        0%, 100% { transform: scale(1.02); }
        50% { transform: scale(1.06); }
      }
      @keyframes speaking-ripple-main {
        0% { transform: scale(0.95); opacity: 1; }
        100% { transform: scale(1.3); opacity: 0; }
      }

      .glowing-text {
          text-shadow: 0 0 10px rgba(76, 201, 240, 0.7), 0 0 20px rgba(76, 201, 240, 0.5), 0 0 30px rgba(76, 201, 240, 0.3);
      }
      .waveform {
          display: flex;
          justify-content: center;
          align-items: center;
          height: 64px;gap: 6px;width: 100%;
      }
      .waveform-bar {
          width: 5px;background-color: #4cc9f0;
          border-radius: 3px;
          animation: wave 1.5s ease-in-out infinite;
          box-shadow: 0 0 6px rgba(76, 201, 240, 0.8);
          transition: all 0.3s ease-in-out;
      }
      @keyframes wave {
        0%, 100% { height: 10%; }
        50% { height: 100%; }
      }
      .waveform-bar:nth-child(1) { animation-delay: 0.1s; }
      .waveform-bar:nth-child(2) { animation-delay: 0.2s; }
      .waveform-bar:nth-child(3) { animation-delay: 0.3s; }
      .waveform-bar:nth-child(4) { animation-delay: 0.4s; }
      .waveform-bar:nth-child(5) { animation-delay: 0.5s; }
      .waveform-bar:nth-child(6) { animation-delay: 0.6s; }
      .waveform-bar:nth-child(7) { animation-delay: 0.7s; }
      .waveform-bar:nth-child(8) { animation-delay: 0.8s; }
      .waveform-bar:nth-child(9) { animation-delay: 0.9s; }
      .waveform-bar:nth-child(10) { animation-delay: 1.0s; }
      .waveform-bar:nth-child(11) { animation-delay: 1.1s; }
      .waveform-bar:nth-child(12) { animation-delay: 1.2s; }
      .waveform-bar:nth-child(13) { animation-delay: 1.3s; }
      .waveform-bar:nth-child(14) { animation-delay: 1.4s; }
      .waveform-bar:nth-child(15) { animation-delay: 1.5s; }
      .waveform-bar:nth-child(16) { animation-delay: 0.15s; }
      .waveform-bar:nth-child(17) { animation-delay: 0.25s; }
      .waveform-bar:nth-child(18) { animation-delay: 0.35s; }
      .waveform-bar:nth-child(19) { animation-delay: 0.45s; }
      .waveform-bar:nth-child(20) { animation-delay: 0.55s; }
      
      /* Custom Scrollbar */
      .transcript-scroll::-webkit-scrollbar {
        width: 4px;
      }
      .transcript-scroll::-webkit-scrollbar-track {
        background: transparent;
      }
      .transcript-scroll::-webkit-scrollbar-thumb {
        background-color: rgba(76, 201, 240, 0.5);
        border-radius: 20px;
      }
      .transcript-scroll {
        scrollbar-width: thin;
        scrollbar-color: rgba(76, 201, 240, 0.5) transparent;
      }
    </style>
    <script>
      tailwind.config = {
        darkMode: "class",
        theme: {
          extend: {
            colors: {
              "primary": "#135bec",
              "background-light": "#f6f6f8",
              "background-dark": "#0a0f1a",
            },
            fontFamily: {
              "display": ["Space Grotesk", "sans-serif"]
            },
            borderRadius: { "DEFAULT": "0.5rem", "lg": "1rem", "xl": "1.5rem", "full": "9999px" },
          },
        },
      }
    </script>
    <script type="importmap">
    {
      "imports": {
        "react": "https://aistudiocdn.com/react@^19.2.0",
        "react-dom/": "https://aistudiocdn.com/react-dom@^19.2.0/",
        "react/": "https://aistudiocdn.com/react@^19.2.0/",
        "@google/genai": "https://aistudiocdn.com/@google/genai@^1.28.0"
      }
    }
    </script>
  </head>
  <body class="bg-background-light dark:bg-background-dark font-display text-white/90">
    <div id="root"></div>
    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
    <script>
    // This will be called after the React app mounts and creates the #particles-js div
    const initParticles = () => {
      const particlesElement = document.getElementById("particles-js");
      if (particlesElement) {
        particlesJS("particles-js", {
            "particles": {
                "number": { "value": 160, "density": { "enable": true, "value_area": 800 } },
                "color": { "value": "#ffffff" },
                "shape": { "type": "circle" },
                "opacity": { "value": 0.5, "random": true, "anim": { "enable": true, "speed": 1, "opacity_min": 0, "sync": false } },
                "size": { "value": 2, "random": true, "anim": { "enable": false } },
                "line_linked": { "enable": false },
                "move": { "enable": true, "speed": 0.4, "direction": "none", "random": true, "straight": false, "out_mode": "out", "bounce": false, "attract": { "enable": false } }
            },
            "interactivity": {
                "detect_on": "canvas",
                "events": { "onhover": { "enable": false }, "onclick": { "enable": false }, "resize": true }
            },
            "retina_detect": true
        });
      }
    };
    </script>
    <script type="module" src="/index.tsx"></script>
  </body>
</html>